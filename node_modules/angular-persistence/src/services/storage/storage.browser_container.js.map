{"version":3,"file":"storage.browser_container.js","sourceRoot":"","sources":["../../../../src/services/storage/storage.browser_container.ts"],"names":[],"mappings":"AAEA,IAAM,gBAAgB,CAAC,UAAU,GAAG,sBAAsB,CAAC;AAC3D;;;;;;;;GAQG;AACH;IACA;;;OAGG;IACH,0BAAoB,QAAiB;QAAjB,aAAQ,GAAR,QAAQ,CAAS;IACjC,CAAC;IACL;;;;;;OAMG;IACI,8BAAG,GAAV,UAAW,GAAW,EAAE,KAAU;QAC1B,IAAI,CAAC;YACD,EAAE,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,CAAC,CAAC;gBACjB,KAAK,GAAG,UAAU,CAAC;YACvB,CAAC;YAED,EAAE,CAAC,CAAC,KAAK,KAAK,SAAS,CAAC,CAAC,CAAC;gBACtB,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;YAClC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;YACtD,CAAC;QACL,CAAE;QAAA,KAAK,CAAC,CAAkB,KAAK,CAAC,CAAC,CAAC;YAC9B,MAAM,CAAC,KAAK,CAAC;QACjB,CAAC;QAED,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IACL;;;;;OAKG;IACI,8BAAG,GAAV,UAAW,GAAW;QACd,IAAI,gBAAgB,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAEzD,EAAE,CAAC,CAAC,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC;YAClB,MAAM,CAAC,SAAS,CAAC;QACrB,CAAC;QAED,IAAI,gBAAgB,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QAEhD,EAAE,CAAC,CAAC,KAAK,KAAK,UAAU,CAAC,CAAC,CAAC;YACvB,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IACL;;;;;OAKG;IACI,iCAAM,GAAb,UAAc,GAAW;QACjB,IAAI,gBAAgB,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAE5C,EAAE,CAAC,CAAC,MAAM,KAAK,SAAS,CAAC,CAAC,CAAC;YACvB,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;QAClC,CAAC;QAED,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC;IACL;;;OAGG;IACI,oCAAS,GAAhB;QACQ,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;IAC1B,CAAC;IACL,uBAAC;AAAD,CAAC,AA1ED,IA0EC;AAED;IACA,gBAAgB;IAChB,gBAAgB,CAAC,SAAS,CAAC,QAAQ,CAAC;AACpC,CAAC","sourcesContent":["import { IPersistenceContainer } from '../../abstracts/persistence.container';\n\nconst /** @type {?} */ NULL_VALUE = '_____NULL_VALUE_____';\n/**\n * This is a container that wraps a browser storage object.\n * \n * @export\n * \\@class BrowserContainer\n * \n * @author Scott O'Bryan\n * \\@since 1.0\n */\nexport class BrowserContainer implements IPersistenceContainer {\n/**\n * Creates an instance of BrowserContainer.\n * @param {?} _storage\n */\nconstructor(private _storage: Storage) {\n    }\n/**\n * Sets a value on the browser storage\n * \n * @param {?} key\n * @param {?} value\n * @return {?}\n */\npublic set(key: string, value: any): boolean {\n        try {\n            if (value === null) {\n                value = NULL_VALUE;\n            }\n\n            if (value === undefined) {\n                this._storage.removeItem(key);\n            } else {\n                this._storage.setItem(key, JSON.stringify(value));\n            }\n        } catch ( /** @type {?} */error) {\n            return false;\n        }\n\n        return true;\n    }\n/**\n * Gets a value from browser storage\n * \n * @param {?} key\n * @return {?}\n */\npublic get(key: string): any {\n        let /** @type {?} */ strval = this._storage.getItem(key);\n\n        if (strval === null) {\n            return undefined;\n        }\n\n        let /** @type {?} */ value = JSON.parse(strval);\n\n        if (value === NULL_VALUE) {\n            return null;\n        }\n\n        return value;\n    }\n/**\n * Removes a value from browser storage\n * \n * @param {?} key\n * @return {?}\n */\npublic remove(key: string): any {\n        let /** @type {?} */ curVal = this.get(key);\n\n        if (curVal !== undefined) {\n            this._storage.removeItem(key);\n        }\n\n        return curVal;\n    }\n/**\n * Removes all values from browser storage\n * @return {?}\n */\npublic removeAll(): void {\n        this._storage.clear();\n    }\n}\n\nfunction BrowserContainer_tsickle_Closure_declarations() {\n/** @type {?} */\nBrowserContainer.prototype._storage;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}